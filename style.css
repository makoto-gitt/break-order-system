/* ============================================================
   BREAK//ORDER  EProfessional Cyberpunk Design System
   ============================================================ */

/* --- Reset -------------------------------------------------- */
*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box
}

/* --- Design Tokens ----------------------------------------- */
:root {
  /* Palette  EDeep indigo base with electric accents */
  --void: #06060e;
  --abyss: #0b0b1a;
  --surface: #111128;
  --elevated: #171738;
  --raised: #1e1e48;

  --cyan: #22d3ee;
  --cyan-soft: rgba(34, 211, 238, .12);
  --cyan-glow: rgba(34, 211, 238, .35);
  --pink: #f472b6;
  --pink-soft: rgba(244, 114, 182, .10);
  --pink-glow: rgba(244, 114, 182, .30);
  --green: #34d399;
  --green-soft: rgba(52, 211, 153, .10);
  --amber: #fbbf24;
  --red: #f43f5e;
  --red-soft: rgba(244, 63, 94, .10);

  --text-0: #f0f0fa;
  --text-1: #b0b0cc;
  --text-2: #6b6b8d;
  --text-3: #3f3f5a;

  /* Pharma / Clerk accent mapping */
  --pharma: var(--cyan);
  --pharma-soft: var(--cyan-soft);
  --clerk: var(--pink);
  --clerk-soft: var(--pink-soft);

  /* Typography */
  --ff-display: 'Rajdhani', sans-serif;
  --ff-body: 'Noto Sans JP', sans-serif;
  --ff-mono: 'JetBrains Mono', monospace;

  /* Radii & Motion */
  --r: 10px;
  --r-sm: 6px;
  --ease: cubic-bezier(.4, 0, .2, 1);
  --spring: cubic-bezier(.34, 1.56, .64, 1);
  --dur: .25s;
}

html {
  font-size: 17px;
  scroll-behavior: smooth
}

body {
  font-family: var(--ff-body);
  background: var(--void);
  color: var(--text-0);
  min-height: 100vh;
  overflow-x: hidden;
}

/* --- Canvas ------------------------------------------------- */
#bgCanvas {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
}

/* --- Shell -------------------------------------------------- */
.app-shell {
  position: relative;
  z-index: 1;
  max-width: 880px;
  margin: 0 auto;
  padding: 0 clamp(.8rem, 3vw, 1.6rem);
}

/* ============================================================
   TOP BAR
   ============================================================ */
.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.4rem 0 .8rem;
  border-bottom: 1px solid rgba(34, 211, 238, .08);
}

.topbar-left {
  display: flex;
  align-items: center;
  gap: .8rem
}

/* Logo hexagon */
.logo-mark {
  position: relative;
  width: 34px;
  height: 38px;
  flex-shrink: 0;
}

.logo-hex {
  width: 100%;
  height: 100%;
  clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
  background: linear-gradient(135deg, var(--cyan), var(--pink));
  opacity: .18;
}

.logo-dot {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--cyan);
  transform: translate(-50%, -50%);
  box-shadow: 0 0 10px var(--cyan-glow);
  animation: pulse 2.5s ease-in-out infinite;
}

@keyframes pulse {

  0%,
  100% {
    box-shadow: 0 0 6px var(--cyan-glow)
  }

  50% {
    box-shadow: 0 0 18px var(--cyan-glow), 0 0 30px rgba(34, 211, 238, .15)
  }
}

.logo-main {
  font-family: var(--ff-display);
  font-weight: 700;
  font-size: 1.35rem;
  letter-spacing: .06em;
  color: var(--text-0);
}

.logo-slash {
  color: var(--cyan);
  margin: 0 1px
}

.logo-ver {
  display: block;
  font-family: var(--ff-mono);
  font-size: .6rem;
  font-weight: 400;
  color: var(--text-2);
  letter-spacing: .12em;
  margin-top: 1px;
}

.topbar-right {
  display: flex;
  align-items: center;
  gap: 1rem
}

.topbar-clock {
  font-family: var(--ff-mono);
  font-size: .78rem;
  color: var(--cyan);
  letter-spacing: .08em;
  text-shadow: 0 0 5px var(--cyan-glow);
}

.topbar-status {
  font-family: var(--ff-mono);
  font-size: .6rem;
  font-weight: 500;
  color: var(--green);
  letter-spacing: .12em;
  display: flex;
  align-items: center;
  gap: 5px;
}

.status-dot {
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: var(--green);
  box-shadow: 0 0 6px var(--green);
  animation: pulse 2s ease-in-out infinite;
}

/* ============================================================
   TABS
   ============================================================ */
.tabs {
  display: flex;
  gap: 2px;
  margin: 1rem 0 1.6rem;
  background: var(--abyss);
  border: 1px solid rgba(255, 255, 255, .04);
  border-radius: var(--r);
  padding: 4px;
  position: relative;
}

.tab {
  flex: 1;
  position: relative;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: .4rem;
  padding: .65rem .4rem;
  background: none;
  border: none;
  font-family: var(--ff-body);
  font-size: .78rem;
  font-weight: 500;
  color: var(--text-2);
  cursor: pointer;
  border-radius: calc(var(--r) - 3px);
  transition: color var(--dur) var(--ease);
}

.tab:hover {
  color: var(--text-1)
}

.tab.active {
  color: var(--void);
  font-weight: 600
}

.tab-svg {
  width: 16px;
  height: 16px;
  stroke-width: 2;
  flex-shrink: 0
}

.tab-text {
  white-space: nowrap
}

.tab-ink {
  position: absolute;
  top: 4px;
  left: 4px;
  width: calc(25% - 3px);
  height: calc(100% - 8px);
  background: linear-gradient(135deg, var(--cyan), #67e8f9);
  border-radius: calc(var(--r) - 3px);
  transition: transform .38s var(--spring);
  z-index: 1;
  box-shadow: 0 2px 20px var(--cyan-glow);
}

/* ============================================================
   PANELS (shared)
   ============================================================ */
.panels {
  min-height: 60vh
}

.panel {
  display: none;
  animation: fadeUp .4s var(--ease)
}

.panel.active {
  display: block
}

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(12px)
  }

  to {
    opacity: 1;
    transform: translateY(0)
  }
}

.sec-head {
  margin-bottom: 1.4rem
}

.sec-title {
  font-family: var(--ff-display);
  font-size: 1.5rem;
  font-weight: 700;
  letter-spacing: .03em;
  background: linear-gradient(135deg, var(--cyan), var(--pink));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.sec-sub {
  font-family: var(--ff-mono);
  font-size: .72rem;
  color: var(--text-2);
  letter-spacing: .06em;
  margin-top: .15rem;
}

/* --- Cards -------------------------------------------------- */
.card {
  position: relative;
  background: var(--surface);
  border: 1px solid rgba(255, 255, 255, .05);
  border-radius: var(--r);
  overflow: hidden;
  transition: border-color var(--dur) var(--ease), box-shadow var(--dur) var(--ease);
}

.card:hover {
  border-color: rgba(34, 211, 238, .15);
  box-shadow: 0 0 30px rgba(34, 211, 238, .06);
}

.card-accent {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--cyan), var(--pink));
}

.form-card {
  margin-bottom: 1.4rem;
  padding: 0
}

.form-inner {
  display: flex;
  align-items: center;
  gap: .65rem;
  padding: 1rem 1.2rem;
  flex-wrap: wrap;
}

/* --- Inputs ------------------------------------------------- */
.input {
  flex: 1;
  min-width: 160px;
  background: var(--abyss);
  border: 1px solid rgba(255, 255, 255, .06);
  border-radius: var(--r-sm);
  padding: .6rem .9rem;
  font-family: var(--ff-body);
  font-size: .88rem;
  color: var(--text-0);
  outline: none;
  transition: border-color var(--dur) var(--ease), box-shadow var(--dur) var(--ease);
}

.input::placeholder {
  color: var(--text-3)
}

.input:focus {
  border-color: var(--cyan);
  box-shadow: 0 0 0 3px var(--cyan-soft), 0 0 16px rgba(34, 211, 238, .08);
}

/* --- Role Toggle -------------------------------------------- */
.role-toggle {
  display: flex;
  gap: .45rem
}

.role-label input {
  display: none
}

.role-pill {
  display: inline-flex;
  align-items: center;
  gap: .25rem;
  padding: .5rem .85rem;
  border-radius: var(--r-sm);
  font-size: .8rem;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--dur) var(--ease);
  border: 1px solid transparent;
}

.role-pill.pharma {
  color: var(--pharma);
  background: var(--pharma-soft);
  border-color: rgba(34, 211, 238, .12)
}

.role-pill.clerk {
  color: var(--clerk);
  background: var(--clerk-soft);
  border-color: rgba(244, 114, 182, .12)
}

.role-label input:checked+.pharma {
  border-color: var(--cyan);
  box-shadow: 0 0 14px var(--cyan-soft), inset 0 0 12px var(--cyan-soft);
  background: rgba(34, 211, 238, .18);
}

.role-label input:checked+.clerk {
  border-color: var(--pink);
  box-shadow: 0 0 14px var(--pink-soft), inset 0 0 12px var(--pink-soft);
  background: rgba(244, 114, 182, .18);
}

/* --- Buttons ------------------------------------------------ */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .3rem;
  font-family: var(--ff-display);
  font-size: .76rem;
  font-weight: 600;
  letter-spacing: .06em;
  text-transform: uppercase;
  padding: .55rem 1.3rem;
  border: none;
  border-radius: var(--r-sm);
  cursor: pointer;
  transition: all var(--dur) var(--ease);
  white-space: nowrap;
}

.btn-primary {
  background: linear-gradient(135deg, var(--cyan), #06b6d4);
  color: var(--void);
  box-shadow: 0 2px 12px rgba(34, 211, 238, .25);
}

.btn-primary:hover {
  box-shadow: 0 4px 24px rgba(34, 211, 238, .4);
  transform: translateY(-1px);
}

.btn-sm {
  font-size: .68rem;
  padding: .4rem .9rem
}

.btn-ghost {
  background: transparent;
  color: var(--text-2);
  border: 1px solid rgba(255, 255, 255, .08);
}

.btn-ghost:hover {
  color: var(--text-0);
  border-color: rgba(255, 255, 255, .15)
}

.btn-danger {
  background: var(--red-soft);
  color: var(--red);
  border: 1px solid rgba(244, 63, 94, .15);
}

.btn-danger:hover {
  box-shadow: 0 0 16px rgba(244, 63, 94, .2)
}

.toolbar {
  display: flex;
  gap: .45rem;
  margin-bottom: 1.2rem
}

/* --- Dual Column Layout ------------------------------------ */
.dual-col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}

.col {
  background: var(--surface);
  border: 1px solid rgba(255, 255, 255, .04);
  border-radius: var(--r);
  padding: .9rem;
  transition: border-color var(--dur) var(--ease);
  min-height: 100px;
}

.col:hover {
  border-color: rgba(255, 255, 255, .08)
}

.col-pharma:hover {
  border-color: rgba(34, 211, 238, .15)
}

.col-clerk:hover {
  border-color: rgba(244, 114, 182, .15)
}

.col-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-bottom: .5rem;
  margin-bottom: .5rem;
  border-bottom: 1px solid rgba(255, 255, 255, .04);
}

.col-pharma .col-head {
  border-color: rgba(34, 211, 238, .1)
}

.col-clerk .col-head {
  border-color: rgba(244, 114, 182, .1)
}

.col-label {
  font-family: var(--ff-display);
  font-size: .82rem;
  font-weight: 600;
  letter-spacing: .05em;
}

.col-pharma .col-label {
  color: var(--pharma)
}

.col-clerk .col-label {
  color: var(--clerk)
}

.col-count {
  font-family: var(--ff-mono);
  font-size: .65rem;
  padding: .1rem .5rem;
  border-radius: 99px;
}

.col-pharma .col-count {
  background: var(--pharma-soft);
  color: var(--pharma)
}

.col-clerk .col-count {
  background: var(--clerk-soft);
  color: var(--clerk)
}

.col-empty {
  font-family: var(--ff-mono);
  font-size: .72rem;
  color: var(--text-3);
  text-align: center;
  padding: 1.4rem 0;
  display: none;
  letter-spacing: .08em;
}

.col-empty.show {
  display: block
}

.item-list {
  list-style: none
}

/* --- Staff Item --------------------------------------------- */
.staff-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .48rem .65rem;
  margin-bottom: .3rem;
  border-radius: var(--r-sm);
  background: rgba(255, 255, 255, .015);
  border: 1px solid transparent;
  transition: all var(--dur) var(--ease);
  animation: slideIn .3s var(--ease) both;
}

.staff-row:hover {
  background: rgba(255, 255, 255, .035);
  border-color: rgba(255, 255, 255, .06);
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-6px)
  }

  to {
    opacity: 1;
    transform: translateX(0)
  }
}

.staff-row .name {
  font-size: .88rem;
  font-weight: 450
}

.row-actions {
  display: flex;
  gap: .25rem;
  opacity: 0;
  transition: opacity .15s
}

.staff-row:hover .row-actions {
  opacity: 1
}

.ico-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 4px;
  background: none;
  border: 1px solid rgba(255, 255, 255, .06);
  color: var(--text-2);
  font-size: .7rem;
  cursor: pointer;
  transition: all .15s;
}

.ico-btn:hover {
  color: var(--cyan);
  border-color: var(--cyan);
  box-shadow: 0 0 6px var(--cyan-soft)
}

.ico-btn.del:hover {
  color: var(--red);
  border-color: var(--red);
  box-shadow: 0 0 6px var(--red-soft)
}

/* --- Check Item --------------------------------------------- */
.chk-row {
  display: flex;
  align-items: center;
  gap: .6rem;
  padding: .52rem .65rem;
  margin-bottom: .3rem;
  border-radius: var(--r-sm);
  background: rgba(255, 255, 255, .015);
  border: 1px solid transparent;
  cursor: pointer;
  user-select: none;
  transition: all var(--dur) var(--ease);
}

.chk-row:hover {
  background: rgba(255, 255, 255, .035);
  border-color: rgba(255, 255, 255, .06)
}

.chk-row.on {
  background: var(--green-soft);
  border-color: rgba(52, 211, 153, .2)
}

.chk-box {
  width: 18px;
  height: 18px;
  border-radius: 4px;
  flex-shrink: 0;
  border: 2px solid var(--text-3);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: .6rem;
  color: transparent;
  transition: all var(--dur) var(--ease);
}

.chk-row.on .chk-box {
  border-color: var(--green);
  background: rgba(52, 211, 153, .15);
  color: var(--green);
  box-shadow: 0 0 8px rgba(52, 211, 153, .2);
}

.chk-row .name {
  font-size: .88rem;
  font-weight: 450
}

/* --- Generate Button --------------------------------------- */
.gen-zone {
  text-align: center;
  margin-bottom: 2rem
}

.gen-btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: .55rem;
  padding: .9rem 2.6rem;
  background: none;
  border: none;
  cursor: pointer;
  color: var(--cyan);
  font-family: var(--ff-display);
  font-size: .95rem;
  font-weight: 700;
  letter-spacing: .06em;
  text-transform: uppercase;
  overflow: hidden;
  transition: transform var(--dur) var(--ease);
}

.gen-btn:hover {
  transform: translateY(-2px)
}

.gen-btn-bg {
  position: absolute;
  inset: 0;
  border: 2px solid var(--cyan);
  border-radius: var(--r-sm);
  opacity: .7;
  transition: all var(--dur) var(--ease);
}

.gen-btn:hover .gen-btn-bg {
  opacity: 1;
  box-shadow: 0 0 30px var(--cyan-glow), 0 0 60px rgba(34, 211, 238, .1);
  background: rgba(34, 211, 238, .06);
}

.gen-bolt {
  width: 20px;
  height: 20px;
  position: relative;
  z-index: 1;
  filter: drop-shadow(0 0 4px var(--cyan-glow));
  animation: boltGlow 2s ease-in-out infinite;
}

@keyframes boltGlow {

  0%,
  100% {
    filter: drop-shadow(0 0 3px var(--cyan-glow))
  }

  50% {
    filter: drop-shadow(0 0 12px var(--cyan-glow))
  }
}

.gen-text {
  position: relative;
  z-index: 1
}

.gen-hint {
  font-family: var(--ff-mono);
  font-size: .68rem;
  color: var(--text-3);
  margin-top: .55rem;
  letter-spacing: .04em;
  min-height: 1.2em;
  transition: color var(--dur);
}

/* --- Order Items ------------------------------------------- */
.order-stamp {
  font-family: var(--ff-mono);
  font-size: .7rem;
  color: var(--cyan);
  text-align: center;
  margin-bottom: 1rem;
  text-shadow: 0 0 4px var(--cyan-glow);
}

.order-row {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: .8rem 1rem;
  margin-bottom: .45rem;
  border-radius: var(--r-sm);
  background: rgba(255, 255, 255, .02);
  border: 1px solid rgba(255, 255, 255, .04);
  animation: orderPop .45s var(--spring) both;
  transition: all var(--dur) var(--ease);
}

.order-row:hover {
  border-color: rgba(255, 255, 255, .08);
  transform: translateX(4px);
}

@keyframes orderPop {
  from {
    opacity: 0;
    transform: translateY(16px) scale(.94)
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1)
  }
}

.order-num {
  font-family: var(--ff-display);
  font-size: 1.6rem;
  font-weight: 700;
  min-width: 36px;
  text-align: center;
}

.col-pharma .order-num {
  color: var(--cyan);
  text-shadow: 0 0 8px var(--cyan-glow)
}

.col-clerk .order-num {
  color: var(--pink);
  text-shadow: 0 0 8px var(--pink-glow)
}

.order-row .name {
  font-size: 1.1rem;
  font-weight: 500
}

/* --- History ----------------------------------------------- */
.history-card {
  background: var(--surface);
  border: 1px solid rgba(255, 255, 255, .04);
  border-radius: var(--r);
  padding: .9rem 1.1rem;
  margin-bottom: .7rem;
  transition: all var(--dur) var(--ease);
  animation: slideIn .3s var(--ease);
}

.history-card:hover {
  border-color: rgba(34, 211, 238, .12);
  box-shadow: 0 0 20px rgba(34, 211, 238, .05);
}

.hist-time {
  font-family: var(--ff-mono);
  font-size: .68rem;
  color: var(--cyan);
  margin-bottom: .6rem;
  display: flex;
  align-items: center;
  gap: .4rem;
}

.hist-time::before {
  content: '▸';
  font-size: .55rem
}

.hist-cols {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: .8rem
}

.hist-col-head {
  font-family: var(--ff-display);
  font-size: .62rem;
  font-weight: 600;
  letter-spacing: .1em;
  margin-bottom: .25rem;
  padding-bottom: .2rem;
  border-bottom: 1px solid rgba(255, 255, 255, .04);
}

.hist-col-head.ph {
  color: var(--pharma)
}

.hist-col-head.ck {
  color: var(--clerk)
}

.hist-names {
  list-style: none;
  counter-reset: h
}

.hist-names li {
  font-size: .8rem;
  padding: .12rem 0;
  color: var(--text-1);
}

.hist-names li::before {
  content: counter(h) '. ';
  counter-increment: h;
  font-family: var(--ff-mono);
  color: var(--text-3);
  font-size: .7rem;
}

/* --- Empty State ------------------------------------------- */
.empty-state {
  text-align: center;
  padding: 3rem 1rem
}

.empty-glyph {
  font-size: 2.2rem;
  margin-bottom: .6rem;
  opacity: .6
}

.empty-msg {
  font-family: var(--ff-mono);
  font-size: .82rem;
  color: var(--text-2);
  letter-spacing: .08em;
}

/* --- Modal ------------------------------------------------- */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(6, 6, 14, .88);
  backdrop-filter: blur(6px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 100;
}

.overlay.show {
  display: flex
}

.modal {
  background: var(--abyss);
  border: 1px solid rgba(34, 211, 238, .2);
  border-radius: var(--r);
  width: 90%;
  max-width: 380px;
  box-shadow: 0 0 60px rgba(34, 211, 238, .15), 0 20px 60px rgba(0, 0, 0, .4);
  animation: modalIn .3s var(--spring);
  overflow: hidden;
}

@keyframes modalIn {
  from {
    opacity: 0;
    transform: scale(.93) translateY(8px)
  }

  to {
    opacity: 1;
    transform: scale(1) translateY(0)
  }
}

.modal-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .8rem 1.2rem;
  border-bottom: 1px solid rgba(255, 255, 255, .05);
  background: linear-gradient(135deg, var(--cyan-soft), transparent);
}

.modal-title {
  font-family: var(--ff-display);
  font-size: .82rem;
  font-weight: 700;
  color: var(--cyan);
  letter-spacing: .1em;
}

.modal-x {
  background: none;
  border: none;
  color: var(--text-2);
  font-size: .9rem;
  cursor: pointer;
  padding: .1rem .3rem;
  transition: color .15s;
  border-radius: 3px;
}

.modal-x:hover {
  color: var(--red)
}

.modal-body {
  padding: 1.1rem 1.2rem
}

.field-label {
  font-family: var(--ff-mono);
  font-size: .62rem;
  font-weight: 500;
  color: var(--text-2);
  letter-spacing: .12em;
  display: block;
  margin-bottom: .35rem;
}

.mt {
  margin-top: .9rem
}

.modal-foot {
  display: flex;
  gap: .6rem;
  padding: .8rem 1.2rem;
  border-top: 1px solid rgba(255, 255, 255, .05);
}

/* --- Responsive -------------------------------------------- */
@media(max-width:600px) {
  html {
    font-size: 14px
  }

  .dual-col {
    grid-template-columns: 1fr
  }

  .hist-cols {
    grid-template-columns: 1fr
  }

  .form-inner {
    flex-direction: column;
    align-items: stretch
  }

  .input {
    min-width: unset
  }

  .tab-text {
    font-size: .65rem
  }

  .topbar-status {
    display: none
  }

  .gen-btn {
    padding: .8rem 1.8rem
  }
}